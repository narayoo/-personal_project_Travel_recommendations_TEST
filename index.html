<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body class="container">
    <article class="start">   
         <h1 class="mt-5 text-center">내 성향과 찰떡궁합인 여행지는?</h1>  
        <button type="button" class="btn btn-info mt-5" onclick="clickStart()">테스트 시작하기</button>
    </article>
    <article class="question">
        <div class="progress mt-5">
            <div class="progress-bar" role="progressbar" style="width: calc(100/12*1%)" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        <h2 id= "title" class="text-center mt-5">문제</h2>
            <input id="type" type="hidden" value="EI">
            <button id="A" type="button" class="btn btn-success mt-5">Success</button>
            <button id="B" type="button" class="btn btn-warning mt-5">Warning</button>
    </article>
    <article class="result">
            <img id="img" class="rounded-circle mt-5" src="paris.jpg" alt="paris">
            <h2 id="contury" class="text-center mt-5">여행지이름</h2>
            <h3 id="explain" class="text-center mt-5">설명</h3>
    </article>
    <input type="hidden" id="EI" value="0">
    <input type="hidden" id="SN" value="0">
    <input type="hidden" id="TF" value="0">
    <input type="hidden" id="JP" value="0">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
<script>
    var num = 1;
    var q = {
        1: {"title": "문제 1번", "type": "EI",  "A": "E", "B":"I"},
        2: {"title": "문제 2번", "type": "EI",  "A": "E", "B":"I"},
        3: {"title": "문제 3번", "type": "EI",  "A": "E", "B":"I"},
        4: {"title": "문제 4번", "type": "SN",  "A": "S", "B":"N"},
        5: {"title": "문제 5번", "type": "SN",  "A": "S", "B":"N"},
        6: {"title": "문제 6번", "type": "SN",  "A": "S", "B":"N"},
        7: {"title": "문제 7번", "type": "TF",  "A": "T", "B":"F"},
        8: {"title": "문제 8번", "type": "TF",  "A": "T", "B":"F"},
        9: {"title": "문제 9번", "type": "TF",  "A": "T", "B":"F"},
        10: {"title": "문제 10번", "type": "JP",  "A": "J", "B":"P"},
        11: {"title": "문제 11번", "type": "JP",  "A": "J", "B":"P"},
        12: {"title": "문제 12번", "type": "JP",  "A": "J", "B":"P"}
    }  

    var result = {
        "ISTJ": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "ISFJ": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "INTJ": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "INFJ": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "ISTP": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "ISFP": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "INFP": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "INTP": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "ESTP": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "ESFP": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "ENTP": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "ENFP": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "ESTJ": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "ENTJ": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "ENFJ": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"},
        "ESFJ": {"contury": "몰디브", "explain": "몰디브 설명", "img":"paris.jpg"}
    }

    function clickStart() {
        $(".start").hide();
        $(".question").show();
        next();
    }
    $("#A").click(function() {
        var type = $("#type").val();
        var preValue = $("#"+type).val();
        $("#"+type).val(parseInt(preValue)+1);
        next();
    });

    $("#B").click(function () {
        next();
    })

    function next () {
        if(num === 13) {
            $(".question").hide();
            $(".result").show();
            var mbti = "";
            ($("#EI").val() < 2 ) ? mbti+="I" : mbti+="E";
            ($("#SN").val() < 2 ) ? mbti+="N" : mbti+="S";
            ($("#TF").val() < 2 ) ? mbti+="F" : mbti+="T";
            ($("#JP").val() < 2 ) ? mbti+="P" : mbti+="J";
            // alert(mbti);
            $("#img").attr("src",result[mbti]["img"]);
            $("#contury").html(result[mbti]["contury"]);
            $("#explain").html(result[mbti]["explain"])
        } else {
            $(".progress-bar").attr('style','width: calc(100/12*'+num+'%)');
            $("#title").html(q[num]["title"]);
            $("#type").val(q[num]["type"]);
            $("#A").html(q[num]["A"]);
            $("#B").html(q[num]["B"]);
            num++;  
        }
       
    }
</script>
</body>
</html>